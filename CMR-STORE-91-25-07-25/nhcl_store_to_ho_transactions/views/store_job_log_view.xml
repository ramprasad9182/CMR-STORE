<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <record id="action_cmr_transaction_replication_log" model="ir.actions.act_window">
        <field name="name">Transaction Replication Log</field>
        <field name="res_model">nhcl.transaction.replication.log</field>
        <field name="view_mode">tree,graph</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Click to add a Transaction new Log
            </p>
        </field>
    </record>
    <record id="replications_transaction_graph_view" model="ir.ui.view">
        <field name="name">Source Performance Analysis</field>
        <field name="model">nhcl.transaction.replication.log</field>
        <field name="arch" type="xml">
            <graph string="Source Performance Analysis" type="bar">
                <field name="nhcl_date_of_log" interval="month"/>
                <field name="nhcl_destination_name"/>
            </graph>
        </field>
    </record>
    <record id="cmr_transaction_replication_log_tree_view" model="ir.ui.view">
        <field name="name">nhcl.transaction.replication.log.tree</field>
        <field name="model">nhcl.transaction.replication.log</field>
        <field name="arch" type="xml">
            <tree string="Transaction Replication Log" create="0" expand
                    ="1">
                <!--                  decoration-info="nhcl_source_id == False and nhcl_source_name == False and nhcl_status =='success'" decoration-danger="nhcl_source_id == False and nhcl_source_name == False and nhcl_status =='failure'"-->
                <!--            >-->
                <field name="nhcl_serial_no" readonly="1" force_save="1"/>
                <field name="nhcl_date_of_log" readonly="1" force_save="1"/>
                <field name="nhcl_source_id" readonly="1" force_save="1"/>
                <field name="nhcl_source_name" readonly="1" string="Source" force_save="1"/>
                <field name="nhcl_destination_id" readonly="1" force_save="1"/>
                <field name="nhcl_destination_name" readonly="1" string="Destination" force_save="1"/>
                <field name="nhcl_model" readonly="1" force_save="1"/>
                <field name="nhcl_record_id" readonly="1" force_save="1"/>
                <field name="nhcl_function_required" readonly="1" string="Function Req." force_save="1"/>
                <field name="nhcl_status_code" readonly="1" force_save="1"/>
                <field name="nhcl_status" readonly="1" force_save="1"/>
                <field name="nhcl_details_status" readonly="1" force_save="1"/>
            </tree>
        </field>
    </record>
    <record id="cmr_job_initiated_status_log_tree_view" model="ir.ui.view">
        <field name="name">nhcl.initiated.status.log.tree</field>
        <field name="model">nhcl.initiated.status.log</field>
        <field name="arch" type="xml">
            <tree string="Job Initiated Status Log" create="0" expand
                    ="1">
                <!--                  decoration-info="nhcl_source_id == False and nhcl_source_name == False and nhcl_status =='success'" decoration-danger="nhcl_source_id == False and nhcl_source_name == False and nhcl_status =='failure'"-->
                <!--            >-->
                <field name="nhcl_serial_no" readonly="1" force_save="1"/>
                <field name="nhcl_date_of_log" readonly="1" force_save="1"/>
                <field name="nhcl_job_name" readonly="1" force_save="1"/>
                <field name="nhcl_status" readonly="1" force_save="1"/>
                <field name="nhcl_details_status" readonly="1" force_save="1"/>
            </tree>
        </field>
    </record>

    <record id="job_initiated_status_graph_view" model="ir.ui.view">
        <field name="name">Job Initiated Status Analysis</field>
        <field name="model">nhcl.initiated.status.log</field>
        <field name="arch" type="xml">
            <graph string="Job Initiated Status Analysis" type="bar">
                <field name="nhcl_date_of_log" interval="month"/>
                <field name="nhcl_job_name"/>
            </graph>
        </field>
    </record>

    <record id="action_cmr_job_initiated_status_log" model="ir.actions.act_window">
        <field name="name">Job Initiated Status Log</field>
        <field name="res_model">nhcl.initiated.status.log</field>
        <field name="view_mode">tree,graph</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Click to add a store new Log
            </p>
        </field>
    </record>

    <record id="stock_picking_view_for_last_serial_number" model="ir.ui.view">
        <field name="name">view.picking.form.inherit.last.serial</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet" position="before">
                <div class="alert alert-success" role="alert" invisible="stock_picking_type == 'receipt' or nhcl_replication_status != True">
                    <field name="warning_message" style="white-space: pre-wrap;"/>
                </div>
                <div class="alert alert-danger" role="alert" invisible="stock_picking_type == 'receipt' or nhcl_replication_status != False">
                    <field name="warning_message" style="white-space: pre-wrap;"/>
                </div>
            </xpath>
            <xpath expr="//button[@name='action_open_label_type']" position="after">
                <button name="get_main_damage_delivery_orders" type="object" string="Ho-Sync" class="btn-primary"
                        invisible="stock_picking_type != 'main_damage' or nhcl_replication_status != False or state != 'done'"/>
            </xpath>
            <xpath expr="//button[@name='action_open_label_type']" position="after">
                <button name="get_damage_main_delivery_orders" type="object" string="Ho-Sync" class="btn-primary"
                        invisible="stock_picking_type != 'damage_main' or nhcl_replication_status != False or state != 'done'"/>
            </xpath>
            <xpath expr="//button[@name='action_open_label_type']" position="after">
                <button name="get_return_main_delivery_orders" type="object" string="Ho-Sync" class="btn-primary"
                        invisible="stock_picking_type != 'return_main' or nhcl_replication_status != False or state != 'done'"/>
            </xpath>

            <xpath expr="//button[@name='action_open_label_type']" position="after">
                <button name="get_pos_customer_exchange_recipt_orders" type="object" string="Ho-Sync"
                        class="btn-primary" invisible="stock_picking_type != 'exchange' or nhcl_replication_status != False or state != 'done'"/>
            </xpath>
        </field>
    </record>

    <record id="stock_picking_batch_transfer_replication_inherit_view" model="ir.ui.view">
        <field name="name">stock.picking.batch.transfer.replication.form.view.inherit</field>
        <field name="model">stock.picking.batch</field>
        <field name="inherit_id" ref="stock_picking_batch.stock_picking_batch_form"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet" position="before">
                <div class="alert alert-success" role="alert" invisible="stock_picking_type == 'receipt' or nhcl_replication_status != True">
                    <field name="warning_message" style="white-space: pre-wrap;"/>
                </div>
                <div class="alert alert-danger" role="alert" invisible="stock_picking_type == 'receipt' or nhcl_replication_status != False">
                    <field name="warning_message" style="white-space: pre-wrap;"/>
                </div>
            </xpath>
            <xpath expr="//field[@name='scheduled_date']" position="after">
                <field name="stock_picking_type"/>
                <field name="nhcl_replication_status" readonly="1" force_save="1"/>
            </xpath>
            <xpath expr="//header" position="inside">
                <button name="get_regular_batch_delivery_orders" type="object" string="Ho-Sync" class="btn-primary" invisible="stock_picking_type != 'return' or nhcl_replication_status != False or state != 'done'"/>
                <button name="get_damage_batch_delivery_orders" type="object" string="Ho-Sync" class="btn-primary" invisible="stock_picking_type != 'damage' or nhcl_replication_status != False or state != 'done'"/>
<!--                <button name="get_return_batch_delivery_orders" type="object" string="Ho-Sync" class="btn-primary" invisible="stock_picking_type != 'return' or nhcl_replication_status != False or state != 'done'"/>-->
            </xpath>
        </field>
    </record>

    <menuitem id="menu_cmr_job_initiated_status_log" name="Job Initiated Status Log"
              parent="nhcl_customizations.nhcl_cmr_configuration"
              sequence="2"
              action="action_cmr_job_initiated_status_log"/>

    <menuitem id="menu_cmr_transaction_replication_log" name="Transaction Integration Log"
              parent="nhcl_customizations.nhcl_cmr_configuration"
              sequence="3"
              action="action_cmr_transaction_replication_log"/>

</odoo>

