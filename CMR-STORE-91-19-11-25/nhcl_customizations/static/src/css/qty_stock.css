/* responsive-dashboard-stack-pills.css
   Ensures pills stack inside card on small screens and never overflow
*/

/* CONFIG */
:root{
  --card-min-width: 260px;
  --dash-gap: 18px;
  --dash-padding: 12px 14px;
  --card-bg: #ffffff;
  --card-border: #e3e7e7;
  --card-accent: transparent;        /* <- changed */
  --title-color: #0f6b63;
  --summary-color: #2f8b84;
  --small-color: #6b9b96;
  --pill-completed: #2e9d8f;
  --pill-pending: #6e3f4e;
  --pill-text: #ffffff;
  --font-family: "Helvetica Neue", Arial, sans-serif;
  --card-min-height: 130px;
  --pill-radius: 10px;
  --pill-font-size: 13px;
}


/* header styles that match your dashboard title */
.inventory-header {
  padding: 18px 14px;
  background: transparent;
  display: flex;
  align-items: center;      /* vertically center */
  gap: 12px;
}

/* main page title */
.inventory-title {
  margin: 0;
  font-family: "Helvetica Neue", Arial, sans-serif;
  font-weight: 400;
  font-size: 18px;          /* tune larger/smaller if you prefer */
  color: #374151;           /* same teal used across cards */
  letter-spacing: 0.1px;
  line-height: 1;
}

/* responsive reduce title size on very small screens */
@media (max-width: 420px) {
  .inventory-title { font-size: 18px; }
}


/* global box-sizing */
*,*::before,*::after{ box-sizing: border-box; }

/* Fluid grid container */
.inventory-dashboard{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(var(--card-min-width), 1fr));
  gap: var(--dash-gap);
  padding: var(--dash-padding);
  align-items: start;
  font-family: var(--font-family);
  grid-auto-rows: minmax(var(--card-min-height), auto);
  width: 100%;
}

/* Card */
.inventory-dashboard .oe-card{
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 3px;
  padding: 16px 18px;
  box-shadow: 0 1px 0 rgba(0,0,0,0.02);
  display: flex;
  flex-direction: column;
  align-items: stretch;
  height: 100%;
  min-height: var(--card-min-height);
  overflow: visible; /* leave visible so stacked pills are visible */
}

/* Title */
.oe-card-title{
  display:block;
  margin-bottom: 10px;
}
.oe-card-title .oe-card-title-text{
  color: var(--title-color);
  font-weight:400;
  font-size:15px;
  line-height:1.2;
  margin-bottom:6px;
  word-break: break-word;
}

/* Title menu (optional) */
.oe-card-title .oe-card-menu{
  float: right;
  margin-top: -28px;
  font-size: 18px;
  color: #6f6f6f;
  cursor: pointer;
  padding: 4px;
}
.oe-card-title::after{ content:""; display:table; clear:both; }

/* Buttons container (default desktop) */
.oe-card-center-btns{
  display:flex;
  justify-content:flex-start;
  align-items:center;
  gap:14px;
  margin: 4px 0 8px 0;
  flex-wrap: nowrap;
}

/* Pill button base */
.oe-pill{
  display:inline-flex;
  gap:10px;
  align-items:center;
  border:none;
  cursor:pointer;
  padding:9px 16px;
  border-radius: var(--pill-radius);
  color: var(--pill-text);
  font-weight:500;
  font-size: var(--pill-font-size);
  box-shadow: 0 1px 0 rgba(0,0,0,0.04);
  white-space: nowrap;
  min-width: 90px;
  max-width: 100%;
  box-sizing: border-box;
}

/* ensure internal spans behave when width constrained */
.oe-pill > span {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: inline-block;
  vertical-align: middle;
}

/* number badge inside pill */


/* pill colors */
.oe-pill--completed{ background: var(--pill-completed); }
.oe-pill--pending  { background: var(--pill-pending); }

/* Summary footer pinned to bottom */
.oe-card-summary{
  margin-top:auto;
  text-align:right;
  color: var(--summary-color);
  font-size:13px;
  line-height:1.3;
}
.oe-card-summary .small{ font-size:12px; color: var(--small-color); }
.oe-card-summary .strong{ font-weight:700; }

/* ---------- Small-screen stacking behavior ---------- */

/* Primary stacking breakpoint: when card width is small enough, stack pills vertically.
   This ensures pills never overflow and remain fully inside the card */
@media (max-width: 520px) {
  :root { --card-min-width: 220px; } /* allow more columns if needed */

  /* Stack the pills vertically */
  .oe-card-center-btns {
    flex-direction: column;
    align-items: stretch;     /* make pills stretch to card width */
    gap: 10px;
  }

  /* Make each pill full width and allow label to ellipsis if long */
  .oe-pill {
    width: 100%;
    justify-content: space-between; /* number left, label right */
    padding: 10px 12px;
    min-width: 0; /* allow shrink */
  }

  /* Make number badge stay left and small label on the right */
  .pill-num { margin-right: 8px; flex: 0 0 auto; }

  /* allow labels inside pill to shrink/ellipsis */
  .oe-pill > span { max-width: calc(100% - 56px); } /* 56px reserved for badge + gap */
}

/* Tighter phones - ensure comfortable tappable sizes and smaller pill padding */
@media (max-width: 380px) {
  :root { --card-min-width: 180px; }
  .oe-pill { padding: 8px 10px; font-size: 12px; }
  .pill-num { padding: 4px 8px; min-width: 22px; }
  .oe-card { padding: 12px; }
}

/* Accessibility: keyboard focus */
.oe-pill:focus{
  outline: 3px solid rgba(46,157,143,0.18);
  outline-offset: 2px;
  box-shadow: 0 2px 8px rgba(46,157,143,0.08);
}

/* small cleanup */
.inventory-dashboard .oe-card > *{ margin: 0; }
